<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/head') %>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <!-- Transparent Navbar -->
    <nav class="navbar transparent-navbar">
        <div class="container navbar-container">
            <div class="navbar-brand-container" style="display: flex; align-items: center; gap: 10px;">
                <img src="/images/logo.png" alt="Logo" style="height: 115px; position: absolute; left: 0;"> <!-- Adjust the path and size as needed -->
                <a class="navbar-brand" href="/">TURTLE SHELTER PROJECT</a>
            </div>
            <div class="navbar-links" style="display: flex; align-items: center; gap: 15px;">
                <a href="/about" class="nav-link" style="font-size: 1.2rem; padding: 10px;">About</a>
                <a href="/volunteer" class="nav-link" style="font-size: 1.2rem; padding: 10px;">Volunteer</a>
                <a href="/contact" class="nav-link" style="font-size: 1.2rem; padding: 10px;">Contact Us</a>
                <a href="/login" class="nav-link" style="font-size: 1.2rem; padding: 10px;">Login</a>
                <a href="https://www.instagram.com/turtleshelterproject/?hl=en" 
                   class="text-white" style="font-size: 1.5rem; padding: 10px; color: black;">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.facebook.com/turtleshelterproject/" 
                   class="text-white" style="font-size: 1.5rem; padding: 10px; color: black;">
                    <i class="fab fa-facebook-f"></i>
                </a>
            </div>
            <div class="navbar-button-container">
                <a href="/donate" class="btn btn-take-action">DONATE</a>
            </div>
        </div>
    </nav>

    <!-- Masthead Banner -->
    <header class="masthead" style="background-image: url('../images/banner.JPG');">
        <div class="container masthead-content">
            <div class="masthead-text">
                <p class="subheadline">Helping to save lives of people experiencing homelessness</p>
                <h1>STARTS WITH YOU</h1>
                <!-- Correct Route Link -->
                <a href="/JenStory" class="btn btn-learn-more">JEN'S STORY</a>
            </div>
        </div>
    </header>

<!-- Our Mission Section -->
<section class="mission-section py-5" style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; background-color: #ebe6e2; padding: 50px;">
    <div class="container" style="display: flex; flex-wrap: wrap; gap: 80px; justify-content: space-between;">
        <!-- Left Text Section -->
        <div style="flex: 1; max-width: 50%;">
            <p style="font-size: 35px; font-weight: bold; line-height: 1.6; color: #333;">
                Homelessness is a crisis affecting individuals in every community. It’s a human problem that demands compassionate, innovative solutions.
            </p>
        </div>
        <!-- Right Text Section -->
        <div style="flex: 1; max-width: 40%;">
            <p style="font-size: 25px; line-height: 1.8; color: #555;">
                Our mission is to combat the dangers of extreme weather by providing portable, high-tech foam vests to those without shelter, offering warmth, dignity, and hope. Together, we can make a life-saving difference.
            </p>
        </div>
    </div>
</section>
        
<!-- Leadership Section -->
<section class="leadership-section" style="display: flex; flex-wrap: wrap; align-items: center; background-color: #f9f6f3; padding: 50px 0;">
    <div class="container" style="display: flex; flex-wrap: wrap; gap: 40px; justify-content: space-between; align-items: center;">
        <!-- Text Section -->
        <div style="flex: 1; max-width: 45%;">
            <h2 style="font-size: 28px; font-weight: bold; color: #333; margin-bottom: 20px;">
                Making a Difference is Possible. We've Done it Before.
            </h2>
            <p style="font-size: 18px; line-height: 1.8; color: #555; margin-bottom: 20px;">
                Our team brings years of experience to bear on the challenge of homelessness. We’re results-driven, with a proven record of success and meaningful impact in our community.
            </p>
            <a href="/about" style="background-color: #a63636; color: white; padding: 12px 24px; font-size: 16px; border-radius: 30px; text-decoration: none; display: inline-block;">
                Learn More
            </a>
        </div>
        <!-- Image Section -->
        <div style="flex: 1; max-width: 45%;">
            <img src="/images/example.jpg" alt="Leadership Team" style="width: 100%; border-radius: 8px; object-fit: cover;">
        </div>
    </div>
</section>
<!-- Leadership Section (Flipped) -->
<section class="leadership-section" style="display: flex; flex-wrap: wrap; align-items: center; background-color: #f9f6f3; padding: 50px 0;">
    <div class="container" style="display: flex; flex-wrap: wrap; gap: 40px; justify-content: space-between; align-items: center;">
        <!-- Image Section -->
        <div style="flex: 1; max-width: 45%;">
            <img src="/images/sewing.png" alt="Leadership Team" style="width: 100%; border-radius: 8px; object-fit: cover;">
        </div>
        <!-- Text Section -->
        <div style="flex: 1; max-width: 45%;">
            <h2 style="font-size: 28px; font-weight: bold; color: #333; margin-bottom: 20px;">
                Ready to take the next step?
            </h2>
            <p style="font-size: 18px; line-height: 1.8; color: #555; margin-bottom: 20px;">
                This is a movement of compassion and impact. Whether you’re most comfortable contributing your time to make vests, donating funds to support the production of lifesaving gear, or organizing events to spread awareness, we need you on our team. Together, we can save lives and bring hope to those in need.
            </p>
            <a href="/takeAction" style="background-color: #a63636; color: white; padding: 12px 24px; font-size: 16px; border-radius: 30px; text-decoration: none; display: inline-block;">
                Take Action
            </a>
        </div>
    </div>
</section>

    <!-- Volunteer Highlights Section -->
<section class="volunteer-section" style="background-color: #f9f6f3; padding: 50px 0;">
    <div class="container text-center">
        <h2 style="font-size: 28px; font-weight: bold; color: #333; margin-bottom: 20px;">Volunteer Highlights</h2>
        <p style="font-size: 18px; line-height: 1.8; color: #555; margin-bottom: 30px;">
            See how our volunteers make a difference in our community
        </p>
        <div id="volunteerCarousel" class="carousel" style="position: relative; overflow: hidden;">
            <!-- Carousel Items -->
            <div class="carousel-item active" style="display: block;">
                <img src="/images/2.png" alt="Volunteer Highlight 1" style="width: 100%; border-radius: 8px; object-fit: cover;">
            </div>
            <div class="carousel-item" style="display: none;">
                <img src="/images/1.png" alt="Volunteer Highlight 2" style="width: 100%; border-radius: 8px; object-fit: cover;">
            </div>
            <div class="carousel-item" style="display: none;">
                <img src="/images/3.png" alt="Volunteer Highlight 3" style="width: 100%; border-radius: 8px; object-fit: cover;">
            </div>
            <div class="carousel-item active" style="display: block;">
                <img src="/images/4.png" alt="Volunteer Highlight 1" style="width: 100%; border-radius: 8px; object-fit: cover;">
            </div>
            <div class="carousel-item active" style="display: block;">
                <img src="/images/5.png" alt="Volunteer Highlight 1" style="width: 100%; border-radius: 8px; object-fit: cover;">
            </div>
            <div class="carousel-item active" style="display: block;">
                <img src="/images/6.png" alt="Volunteer Highlight 1" style="width: 100%; border-radius: 8px; object-fit: cover;">
            </div>
            <!-- Carousel Controls -->
            <button class="carousel-control prev" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; font-size: 24px; cursor: pointer;">&#10094;</button>
            <button class="carousel-control next" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; font-size: 24px; cursor: pointer;">&#10095;</button>
        </div>
    </div>
</section>

    <!-- Call-to-Action Section -->
    <section class="cta-section py-5" style="background-color: #ebe6e2;">
        <div class="container text-center">
            <h2 class="cta-heading" style="font-size: 40px; margin-bottom: 20px;">Your Contributions Can Make A Lasting Impact</h2>
            <p class="cta-description" style="font-size: 18px; color: #555; margin-bottom: 30px;">
                Every action you take helps save lives
            </p>
            <div>
                <a href="/sendRequest" style="background-color: #a63636; color: white; padding: 12px 20px; border-radius: 5px; font-size: 18px; border: none; cursor: pointer; text-decoration: none; margin-right: 10px;">
                    Volunteer
                </a>                 
                <a href="/donate" style="background-color: #555; color: white; padding: 12px 20px; border-radius: 5px; font-size: 18px; border: none; cursor: pointer; text-decoration: none;">
                    Donate
                </a>                
                
            </div>
        </div>
    </section>

    <!-- Chatbot Icon -->
    <div id="chatbot-icon" onclick="openChat()" style="position: fixed; bottom: 20px; right: 20px; cursor: pointer; background-color: #a63636; padding: 15px; border-radius: 50%; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); z-index: 1000;">
        <i class="fas fa-comments" style="font-size: 30px; color: white;"></i>
    </div>

    <!-- Chatbot Window -->
    <div id="chatbot-window" style="display: none; position: fixed; bottom: 100px; right: 20px; width: 350px; height: 450px; background-color: #fff; border-radius: 10px; box-shadow: 0 0 15px rgba(0, 0, 0, 0.3); z-index: 1000; overflow: hidden;">
        <div style="background-color: #a63636; padding: 15px; color: white; font-weight: bold; display: flex; justify-content: space-between; align-items: center;">
            <span>Chat with Us</span>
            <span onclick="closeChat()" style="cursor: pointer;">&#10006;</span>
        </div>
        <div id="chat-content" style="padding: 15px; overflow-y: auto; height: calc(100% - 120px);">
            <!-- Chat messages go here -->
        </div>
        <div style="padding: 15px; display: flex; align-items: center; gap: 10px;">
            <input id="chat-input" type="text" placeholder="Type your message..." style="flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
            <button onclick="sendMessage()" style="padding: 10px; background-color: #a63636; color: white; border: none; border-radius: 5px;">Send</button>
        </div>
    </div>

    <%- include('partials/footer') %>
    
    <!-- JavaScript to handle navbar and button effects -->
    <script>
        // Add event listener to change Take Action button style on click
        document.querySelector(".btn-take-action").addEventListener("click", function () {
            this.style.backgroundColor = "#000";
            this.style.color = "#fff";
        });

        document.addEventListener('DOMContentLoaded', function () {
            const items = document.querySelectorAll('.carousel-item');
            const next = document.querySelector('.carousel-control.next');
            const prev = document.querySelector('.carousel-control.prev');
            let currentIndex = 0;

            function showSlide(index) {
                items.forEach((item, i) => {
                    item.style.display = i === index ? 'block' : 'none';
                    item.classList.toggle('active', i === index);
                });
            }

            next.addEventListener('click', function () {
                currentIndex = (currentIndex + 1) % items.length;
                showSlide(currentIndex);
            });

            prev.addEventListener('click', function () {
                currentIndex = (currentIndex - 1 + items.length) % items.length;
                showSlide(currentIndex);
            });

            // Auto-rotate slides every 5 seconds
            setInterval(() => {
                currentIndex = (currentIndex + 1) % items.length;
                showSlide(currentIndex);
            }, 5000);

        // Initialize the first slide
        showSlide(currentIndex);
    });
    document.addEventListener('DOMContentLoaded', function () {
    const newsletterForm = document.getElementById('newsletterForm');
    const newsletterPopup = document.getElementById('newsletterPopup');
    const popupOverlay = document.getElementById('popupOverlay');
    const closePopup = document.getElementById('closePopup');

    newsletterForm.addEventListener('submit', function (e) {
        e.preventDefault(); // Prevent form submission
        // Show the popup and overlay
        newsletterPopup.style.display = 'block';
        popupOverlay.style.display = 'block';
    });

    closePopup.addEventListener('click', function () {
        // Hide the popup and overlay
        newsletterPopup.style.display = 'none';
        popupOverlay.style.display = 'none';
        // Optionally clear the email input
        document.getElementById('newsletterEmail').value = '';
    });

    popupOverlay.addEventListener('click', function () {
        // Hide the popup and overlay if the background is clicked
        newsletterPopup.style.display = 'none';
        popupOverlay.style.display = 'none';
    });
});

// Add "Enter" key functionality to the chat input field
const chatInput = document.getElementById("chat-input");
            chatInput.addEventListener("keydown", function (event) {
                if (event.key === "Enter") {
                    event.preventDefault(); // Prevent form submission if applicable
                    sendMessage(); // Call sendMessage() to send the chat message
                }
            });

        // JavaScript for handling the chatbot interactions
        function openChat() {
            document.getElementById("chatbot-window").style.display = "block";
        }

        function closeChat() {
            document.getElementById("chatbot-window").style.display = "none";
        }

        async function sendMessage() {
            const userMessage = document.getElementById("chat-input").value.trim();
            if (!userMessage) {
                alert("Please enter a message");
                return;
            }

            // Append user's message to the chat window
            const chatContent = document.getElementById("chat-content");
            const userBubble = document.createElement("div");
            userBubble.style.cssText = "background-color: #f1f1f1; padding: 10px; border-radius: 8px; margin-bottom: 10px; text-align: right;";
            userBubble.innerHTML = userMessage;
            chatContent.appendChild(userBubble);
            chatContent.scrollTop = chatContent.scrollHeight;

            // Clear the input box
            document.getElementById("chat-input").value = "";

            // Send message to OpenAI API and get response
            try {
                const response = await fetch("/chatbot", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ message: userMessage })
                });

                const data = await response.json();
                const botMessage = data.response;

                // Append bot's message to the chat window
                const botBubble = document.createElement("div");
                botBubble.style.cssText = "background-color: #a63636; color: white; padding: 10px; border-radius: 8px; margin-bottom: 10px; text-align: left;";
                botBubble.innerHTML = botMessage;
                chatContent.appendChild(botBubble);
                chatContent.scrollTop = chatContent.scrollHeight;

            } catch (error) {
                console.error("Error sending message:", error);
            }
        }



</script>
</body>

</html>
